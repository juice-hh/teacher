import{o as A,c as H,b as e,w as a,r as s,a as n,f as J,v as M,q as r,h as i,D as c,O as b,S as G}from"./index-BQs85f6M.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"profile"},Q={class:"avatar-section"},W={class:"user-name"},X={class:"user-title"},Y={class:"info-list"},Z={class:"info-item"},ee={class:"info-value"},le={class:"info-item"},ae={class:"info-value"},oe={class:"info-item"},te={class:"info-value"},se={class:"info-item"},ne={class:"info-value"},de={class:"info-item"},re={class:"info-value"},ue={__name:"Profile",setup(ie){const g=c("basic"),P=c(null),t=c({name:"张老师",employeeNo:"T2024001",gender:"男",department:"计算机学院",title:"副教授",joinDate:"2018-09-01",phone:"13800138001",email:"zhang@edu.cn",bio:"从事计算机科学与技术教学与研究工作，主要研究方向为人工智能、机器学习等。"}),p=G({oldPassword:"",newPassword:"",confirmPassword:""}),D={oldPassword:[{required:!0,message:"请输入原密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:8,message:"密码长度不能少于8位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请确认新密码",trigger:"blur"},{validator:(u,l,v)=>{l!==p.newPassword?v(new Error("两次输入的密码不一致")):v()},trigger:"blur"}]},S=c([{id:1,period:"2023年度",type:"年度评价",score:88.5,rank:"15/128",status:"已完成"},{id:2,period:"2023年秋季",type:"学期评价",score:85,rank:"20/128",status:"已完成"},{id:3,period:"2023年春季",type:"学期评价",score:87.2,rank:"18/128",status:"已完成"}]);function q(u){return u>=90?"success":u>=80?"primary":u>=60?"warning":"danger"}function B(){b.info("打开头像上传")}function F(){localStorage.setItem("userInfo",JSON.stringify(t.value)),b.success("基本信息保存成功")}function I(){var u;(u=P.value)==null||u.validate(l=>{l&&(b.success("密码修改成功，请重新登录"),k())})}function k(){Object.assign(p,{oldPassword:"",newPassword:"",confirmPassword:""})}function T(u){b.info(`查看 ${u.period} 的评价详情`)}return(u,l)=>{const v=s("el-avatar"),w=s("el-button"),j=s("el-divider"),x=s("el-card"),U=s("el-col"),m=s("el-input"),d=s("el-form-item"),C=s("el-radio"),E=s("el-radio-group"),f=s("el-option"),N=s("el-select"),z=s("el-form"),y=s("el-tab-pane"),_=s("el-table-column"),V=s("el-tag"),O=s("el-link"),R=s("el-table"),$=s("el-tabs"),h=s("el-row");return A(),H("div",L,[e(h,{gutter:24},{default:a(()=>[e(U,{span:8},{default:a(()=>[e(x,{class:"profile-card",shadow:"hover"},{default:a(()=>[n("div",Q,[e(v,{size:100,icon:J(M)},null,8,["icon"]),n("h3",W,r(t.value.name),1),n("p",X,r(t.value.department)+" · "+r(t.value.title),1),e(w,{type:"primary",onClick:B},{default:a(()=>[...l[11]||(l[11]=[i("更换头像",-1)])]),_:1})]),e(j),n("div",Y,[n("div",Z,[l[12]||(l[12]=n("span",{class:"info-label"},"工号",-1)),n("span",ee,r(t.value.employeeNo),1)]),n("div",le,[l[13]||(l[13]=n("span",{class:"info-label"},"性别",-1)),n("span",ae,r(t.value.gender),1)]),n("div",oe,[l[14]||(l[14]=n("span",{class:"info-label"},"入职时间",-1)),n("span",te,r(t.value.joinDate),1)]),n("div",se,[l[15]||(l[15]=n("span",{class:"info-label"},"联系电话",-1)),n("span",ne,r(t.value.phone),1)]),n("div",de,[l[16]||(l[16]=n("span",{class:"info-label"},"邮箱",-1)),n("span",re,r(t.value.email),1)])])]),_:1})]),_:1}),e(U,{span:16},{default:a(()=>[e(x,{class:"detail-card",shadow:"hover"},{default:a(()=>[e($,{modelValue:g.value,"onUpdate:modelValue":l[10]||(l[10]=o=>g.value=o)},{default:a(()=>[e(y,{label:"基本信息",name:"basic"},{default:a(()=>[e(z,{model:t.value,"label-width":"120px",style:{"max-width":"500px"}},{default:a(()=>[e(d,{label:"姓名"},{default:a(()=>[e(m,{modelValue:t.value.name,"onUpdate:modelValue":l[0]||(l[0]=o=>t.value.name=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"性别"},{default:a(()=>[e(E,{modelValue:t.value.gender,"onUpdate:modelValue":l[1]||(l[1]=o=>t.value.gender=o)},{default:a(()=>[e(C,{value:"男"},{default:a(()=>[...l[17]||(l[17]=[i("男",-1)])]),_:1}),e(C,{value:"女"},{default:a(()=>[...l[18]||(l[18]=[i("女",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"部门"},{default:a(()=>[e(N,{modelValue:t.value.department,"onUpdate:modelValue":l[2]||(l[2]=o=>t.value.department=o),style:{width:"100%"}},{default:a(()=>[e(f,{label:"计算机学院",value:"计算机学院"}),e(f,{label:"数学学院",value:"数学学院"}),e(f,{label:"英语学院",value:"英语学院"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"职称"},{default:a(()=>[e(N,{modelValue:t.value.title,"onUpdate:modelValue":l[3]||(l[3]=o=>t.value.title=o),style:{width:"100%"}},{default:a(()=>[e(f,{label:"助教",value:"助教"}),e(f,{label:"讲师",value:"讲师"}),e(f,{label:"副教授",value:"副教授"}),e(f,{label:"教授",value:"教授"})]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"联系电话"},{default:a(()=>[e(m,{modelValue:t.value.phone,"onUpdate:modelValue":l[4]||(l[4]=o=>t.value.phone=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"邮箱"},{default:a(()=>[e(m,{modelValue:t.value.email,"onUpdate:modelValue":l[5]||(l[5]=o=>t.value.email=o)},null,8,["modelValue"])]),_:1}),e(d,{label:"个人简介"},{default:a(()=>[e(m,{modelValue:t.value.bio,"onUpdate:modelValue":l[6]||(l[6]=o=>t.value.bio=o),type:"textarea",rows:4},null,8,["modelValue"])]),_:1}),e(d,null,{default:a(()=>[e(w,{type:"primary",onClick:F},{default:a(()=>[...l[19]||(l[19]=[i("保存",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(y,{label:"修改密码",name:"password"},{default:a(()=>[e(z,{model:p,rules:D,ref_key:"passwordFormRef",ref:P,"label-width":"120px",style:{"max-width":"500px"}},{default:a(()=>[e(d,{label:"原密码",prop:"oldPassword"},{default:a(()=>[e(m,{modelValue:p.oldPassword,"onUpdate:modelValue":l[7]||(l[7]=o=>p.oldPassword=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),e(d,{label:"新密码",prop:"newPassword"},{default:a(()=>[e(m,{modelValue:p.newPassword,"onUpdate:modelValue":l[8]||(l[8]=o=>p.newPassword=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),e(d,{label:"确认密码",prop:"confirmPassword"},{default:a(()=>[e(m,{modelValue:p.confirmPassword,"onUpdate:modelValue":l[9]||(l[9]=o=>p.confirmPassword=o),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),e(d,null,{default:a(()=>[e(w,{type:"primary",onClick:I},{default:a(()=>[...l[20]||(l[20]=[i("确定",-1)])]),_:1}),e(w,{onClick:k},{default:a(()=>[...l[21]||(l[21]=[i("重置",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(y,{label:"评价历史",name:"history"},{default:a(()=>[e(R,{data:S.value,style:{width:"100%"}},{default:a(()=>[e(_,{prop:"period",label:"评价周期",width:"150"}),e(_,{prop:"type",label:"评价类型",width:"120"},{default:a(({row:o})=>[e(V,{size:"small"},{default:a(()=>[i(r(o.type),1)]),_:2},1024)]),_:1}),e(_,{prop:"score",label:"得分",width:"100"},{default:a(({row:o})=>[e(V,{type:q(o.score),size:"small"},{default:a(()=>[i(r(o.score),1)]),_:2},1032,["type"])]),_:1}),e(_,{prop:"rank",label:"排名",width:"100"}),e(_,{prop:"status",label:"状态",width:"100"},{default:a(({row:o})=>[e(V,{type:o.status==="已完成"?"success":"warning",size:"small"},{default:a(()=>[i(r(o.status),1)]),_:2},1032,["type"])]),_:1}),e(_,{label:"操作",width:"100"},{default:a(({row:o})=>[e(O,{type:"primary",underline:!1,onClick:pe=>T(o)},{default:a(()=>[...l[22]||(l[22]=[i("查看",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})])}}},_e=K(ue,[["__scopeId","data-v-a99eac8a"]]);export{_e as default};
