import{E as U,o as g,c as w,b as e,w as l,r as s,k as z,e as D,h as n,q as d,a,f as p,a3 as B,M,a8 as A,_ as I,S as $,D as y,O as f}from"./index-BQs85f6M.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={class:"evaluation-fill-detail"},T={class:"card-header"},G={class:"title-section"},H={class:"card-title"},J={class:"indicators-section"},K={class:"fill-actions"},L={class:"action-row"},P={class:"action-row"},Q={class:"action-row"},W={key:0,class:"file-count"},X={__name:"EvaluationFillDetail",setup(Y){z();const h=D(),k=y("2024年春季学期综合素养评价"),r=$({period:"2024年春季学期",status:"pending",deadline:"2024-06-30"}),v=y([{id:1,primaryName:"师德师风",name:"遵纪守法",score:10,scoringRule:"严格遵守国家法律法规及学校各项规章制度。无违法违纪行为得满分；有一次违纪扣5分。",materialRequirement:"年度无违纪记录证明（系统自动提取）",selfScore:null,notes:"",files:[]},{id:2,primaryName:"教育教学",name:"教学设计与实施",score:20,scoringRule:"教案完整、环节合理得满分。无教案扣20分；缺环节扣5分/次。",materialRequirement:"提交本学期至少一份完整的优秀教案设计文档。",selfScore:null,notes:"",files:[]},{id:3,primaryName:"教育科研",name:"论文评比",score:5,scoringRule:"国家级一等奖8分，二等奖7分；省级一等奖7分...",materialRequirement:"提交获奖证书扫描件。",selfScore:null,notes:"",files:[]}]),V=c=>{c.files||(c.files=[]),c.files.push({name:"example-file.pdf"}),f.success("材料文件已选择")},x=()=>{if(!v.value.every(t=>t.selfScore!==null)){f.warning("请确保所有指标项已进行自评打分");return}f.success("填报完成，已成功提交！"),h.push("/teacher/evaluation-projects")};return U(()=>{}),(c,t)=>{const _=s("el-button"),R=s("el-divider"),m=s("el-descriptions-item"),b=s("el-tag"),N=s("el-descriptions"),i=s("el-table-column"),S=s("el-input-number"),C=s("el-input"),q=s("el-upload"),E=s("el-table"),F=s("el-card");return g(),w("div",O,[e(F,{shadow:"hover",class:"page-card"},{header:l(()=>[a("div",T,[a("div",G,[e(_,{link:"",icon:p(A),onClick:t[0]||(t[0]=o=>p(h).back())},{default:l(()=>[...t[1]||(t[1]=[n("返回",-1)])]),_:1},8,["icon"]),e(R,{direction:"vertical"}),a("span",H,d(k.value||"填报详情"),1)]),e(_,{type:"primary",icon:p(I),onClick:x},{default:l(()=>[...t[2]||(t[2]=[n("提交评价填报",-1)])]),_:1},8,["icon"])])]),default:l(()=>[e(N,{class:"task-info",column:3,border:""},{default:l(()=>[e(m,{label:"评价周期"},{default:l(()=>[n(d(r.period),1)]),_:1}),e(m,{label:"状态"},{default:l(()=>[e(b,{type:r.status==="pending"?"warning":"success"},{default:l(()=>[n(d(r.status==="pending"?"待评":"已评"),1)]),_:1},8,["type"])]),_:1}),e(m,{label:"填报截止日期"},{default:l(()=>[n(d(r.deadline),1)]),_:1})]),_:1}),a("div",J,[t[5]||(t[5]=a("h3",null,"所需填报指标清单",-1)),e(E,{data:v.value,border:"",style:{width:"100%","margin-top":"16px"}},{default:l(()=>[e(i,{prop:"primaryName",label:"一级指标",width:"150","show-overflow-tooltip":""}),e(i,{prop:"name",label:"明细指标","min-width":"150","show-overflow-tooltip":""}),e(i,{prop:"score",label:"满分",width:"80"},{default:l(({row:o})=>[e(b,{type:"warning",size:"small"},{default:l(()=>[n(d(o.score)+"分",1)]),_:2},1024)]),_:1}),e(i,{prop:"scoringRule",label:"评分规则","min-width":"200","show-overflow-tooltip":""}),e(i,{prop:"materialRequirement",label:"材料要求","min-width":"200","show-overflow-tooltip":""}),e(i,{label:"填报操作",width:"300",fixed:"right"},{default:l(({row:o})=>[a("div",K,[a("div",L,[t[3]||(t[3]=a("span",{class:"action-label"},"自评得分:",-1)),e(S,{modelValue:o.selfScore,"onUpdate:modelValue":u=>o.selfScore=u,min:0,max:o.score,size:"small"},null,8,["modelValue","onUpdate:modelValue","max"])]),a("div",P,[e(C,{modelValue:o.notes,"onUpdate:modelValue":u=>o.notes=u,size:"small",placeholder:"点击填写补充说明..."},null,8,["modelValue","onUpdate:modelValue"])]),a("div",Q,[e(q,{action:"#","auto-upload":!1,limit:3,multiple:"","show-file-list":!1,onChange:u=>V(o)},{default:l(()=>[e(_,{size:"small",type:"primary",plain:"",icon:p(B)},{default:l(()=>[...t[4]||(t[4]=[n("上传佐证材料",-1)])]),_:1},8,["icon"])]),_:1},8,["onChange"]),o.files&&o.files.length?(g(),w("span",W,"已选 "+d(o.files.length)+" 个",1)):M("",!0)])])]),_:1})]),_:1},8,["data"])])]),_:1})])}}},le=j(X,[["__scopeId","data-v-f8b47abd"]]);export{le as default};
